总线驱动，也叫平台驱动，用来把设备的资源和驱动分隔开，设备的资源用变量来表示，设备的驱动用函数来表示。有了这种机制，驱动的管理就变得很直观（在内核源码中，你只要找到所有的struct platform_device就知道这个单板有哪些硬件资源了），管理也更方便。关于平台设备我有一篇更加全面的笔记：Linux底层知识(18).docx



这个实验是用平台设备的方式注册一个字符设备，也就是一个LED。编译出的.ko文件和应用文件放到单板上insmod，应用程序的用法是./a.out <on|off>